// pages/_organization.scss
// About TBICS page: org key-value table, program-chairs table skin,
// roles rows/cards, members lists.

// =====================================================
// Org “Key–Value” Table (centered, accessible)
// =====================================================
#about-tbics {
  .org-kv-wrap {
    max-width: min(100%, 980px);
    margin-inline: auto;
  }

  .org-kv-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    background: transparent;
    font-size: clamp(15px, 1.9vw, 18px);

    th,
    td {
      padding: 10px 16px;
      vertical-align: top;
      border-top: 1px solid rgba(1,63,135,.14);
    }

    /* remove top border on first row */
    tbody tr:first-child th,
    tbody tr:first-child td { border-top: 0; }

    /* label column */
    th {
      width: clamp(180px, 26ch, 340px);
      text-align: right;
      font-weight: 800;
      white-space: nowrap;
      color: #1c2733;
      padding-right: clamp(12px, 2vw, 22px);
    }

    /* value column */
    td { color: #22303c; }

    /* lists inside values — restore bullets */
    .committee-list {
      list-style: disc !important;
      margin: 0;
      padding-left: 1.25rem;

      li { margin: .35rem 0; }
    }

    /* subtle zebra + hover */
    tr:nth-child(even) td { background: rgba(0,0,0,.025); }
    tr:hover td { background: rgba(1,63,135,.04); }
  }

  /* ------ Mobile: stack label above value ------ */
  @media (max-width: 720px){
    .org-kv-table,
    .org-kv-table tbody,
    .org-kv-table tr,
    .org-kv-table th,
    .org-kv-table td{
      display: block;
      width: 100%;
    }
    .org-kv-table th{
      text-align: left;
      padding-bottom: .25rem;
      border-top: 0;
    }
    .org-kv-table td{
      padding-top: 0;
      border-top: 0;
    }
    /* divider between stacked rows */
    .org-kv-table tr + tr{
      border-top: 1px solid rgba(1,63,135,.14);
      margin-top: .35rem;
      padding-top: .35rem;
    }
  }

  // =====================================================
  // Program Chairs table — cream fill, tight halo
  // =====================================================
  /* Gutenberg table block variant */
  .wp-block-table.org-table {
    border: 1px solid rgba(1,63,135,.12);
    border-radius: 16px;
    box-shadow: 0 8px 22px rgba(0,0,0,.08);
    overflow: hidden;

    > table {
      background: #FAF5EE !important; /* cream */
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
    }
  }

  /* If inside a tight “card” wrapper */
  .org-card--tight {
    padding: 0;

    .table-responsive {
      border: 1px solid rgba(1,63,135,.12);
      border-radius: 16px;
      box-shadow: 0 8px 22px rgba(0,0,0,.08);
      overflow: hidden;
      margin: 0;
    }

    table.org-table {
      background: #FAF5EE;
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
    }
  }

  /* Shared table chrome */
  .org-table {
    thead th{
      background: rgba(255,255,255,.66);
      color: #3a3a3a;
      text-transform: uppercase;
      letter-spacing: .02em;
      font-weight: 700;
      padding: 14px 16px 16px;
      border-bottom: 1px solid rgba(1,63,135,.16);
    }
    tbody td{
      padding: 14px 16px;
      border-top: 1px solid rgba(1,63,135,.10);
      overflow-wrap: anywhere;
      hyphens: auto;
    }
    tbody tr:nth-child(even){ background: rgba(0,0,0,.035); }
    tbody tr:hover{ background: rgba(1,63,135,.06); }
  }
}

/* Remove default WP/Bootstrap bottom gap on wrapped tables */
.table, .wp-block-table table { margin-bottom: 0; }

// =====================================================
// Roles rows (cards-in-a-row) + grids
// =====================================================
.org-roles{
  --gap: clamp(14px, 2.2vw, 24px);
  --card-min: 220px;
  --card-max: 320px;

  display: flex;
  justify-content: center;
  align-items: stretch;
  gap: var(--gap);
  flex-wrap: nowrap;
}

.org-role-card{ flex: 0 1 auto; width: var(--card-max); }

.org-roles--cols-2 .org-role-card{
  width: clamp(var(--card-min), 42vw, var(--card-max));
}
.org-roles--cols-3 .org-role-card{
  width: clamp(var(--card-min), 28vw, var(--card-max));
}

/* solo chair row */
.org-roles--solo{
  display: flex;
  justify-content: center;
  gap: clamp(16px, 2.4vw, 28px);
  margin-bottom: clamp(12px, 1.6vw, 18px);
}

/* 3 co-chairs as a grid */
.org-roles--grid-3{
  display: grid !important;
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap: clamp(16px, 2.4vw, 28px);
  justify-content: center;
  align-items: stretch;
}
.org-roles--grid-3 > .org-role-card,
.org-roles--grid-4 > .org-role-card {
  width: auto !important;   /* override flex child width */
  min-width: 0;             /* allow tracks to shrink */
  margin: 0;                /* just in case */
}

/* 4-up roomy grid */
.org-roles--grid-4{
  --roles-max: 1220px;
  max-width: var(--roles-max);
  margin-inline: auto;
  display: grid;
  grid-template-columns: repeat(4, minmax(260px, 1fr));
  gap: clamp(16px, 2.4vw, 28px);
  justify-content: center;
  align-items: stretch;
}

/* 5-up Program Co-Chair row */
.org-roles--grid-5{
  --roles-max: 1400px;                        // was 1220px
  max-width: min(100%, var(--roles-max));
  margin-inline: auto;

  display: grid;
  grid-template-columns: repeat(5, minmax(260px, 1fr)); // allow a nicer min width
  gap: clamp(16px, 2.4vw, 28px);
  justify-items: stretch;
  align-items: stretch;
}


/* Only the Program Co-Chair cards ignore the global width */
.org-roles--grid-5 > .org-role-card--pc{
  width: 100%;       /* fill the grid track */
  min-width: 0;
  margin: 0;
}

/* Responsive fallbacks (optional / tweak breakpoints) */
@media (max-width: 1100px){
  .org-roles--grid-5{
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (max-width: 900px){
  .org-roles--grid-5{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (max-width: 640px){
  .org-roles--grid-5{
    grid-template-columns: 1fr;
    --roles-max: 300px;
  }
}





/* fallbacks at breakpoints */
@media (max-width:1180px){
  .org-roles--grid-3{ grid-template-columns: repeat(2, minmax(260px,1fr)); }
  .org-roles--grid-4{ grid-template-columns: repeat(2, minmax(260px,1fr)); }
}
@media (max-width:980px){
  .org-roles{ flex-wrap: wrap; }
  .org-roles--cols-3 .org-role-card,
  .org-roles--cols-2 .org-role-card{
    width: clamp(var(--card-min), 46vw, var(--card-max));
  }
}
@media (max-width:640px){
  .org-roles {--card-max: 300px;}
  .org-roles--grid-3,
  .org-roles--grid-4{ grid-template-columns: 1fr;
  --roles-max: 300px;
  }

  .org-roles--cols-2 .org-role-card,
  .org-roles--cols-3 .org-role-card{ width: 100%; }
}

/* the card body */
.org-role-card{
  background: #fff;
  border: 1px solid rgba(1,63,135,.18);
  border-radius: 16px;
  box-shadow: 0 8px 22px rgba(0,0,0,.08);
  padding: clamp(14px, 2.2vw, 20px) clamp(16px, 2.4vw, 22px);
  text-align: center;

  .role-label{
    margin: 0 0 .35rem;
    font-weight: 700;
    color: #263238;
    opacity: .85;
  }
  .role-name{
    margin: 0 0 .35rem;
    font-weight: 700;
    font-size: clamp(18px, 2.2vw, 22px);
    line-height: 1.25;
  }
  .role-affil{
    margin: 0;
    color: #2f3d4a;
    line-height: 1.35;
  }
}

/* tighten spacing when a ruled H4 precedes roles */
.org-section h4.section-rule + .org-roles{
  margin-top: clamp(8px, 1.6vw, 14px);
}

/* ---------- Mobile: consistent, smaller, and narrower cards ---------- */
/* ---------- Mobile: consistent, smaller, and narrower cards ---------- */
/* ---------- Mobile: identical width for ALL role cards ---------- */
/* ---------- FINAL OVERRIDE: identical mobile card width (solo + grid) ---------- */
/* ---------- Mobile hard-normalize: identical card width (solo + grid) ---------- */
@media (max-width: 640px){
  /* Give both wrappers a full-viewport staging area, ignoring parent cols/padding */
  .org-roles--solo,
  .org-roles--grid-3{
    position: relative;
    left: 50%;
    right: 50%;
    width: 100vw !important;           /* escape narrow ancestors */
    max-width: 100vw !important;
    transform: translateX(-50%);
    padding-inline: 0 !important;
    margin-inline: 0 !important;
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: clamp(10px, 2.6vw, 14px);
    justify-items: center;              /* center children uniformly */
  }

  /* Apply the exact same visible width to every card in both groups */
  .org-roles--solo  > .org-role-card,
  .org-roles--grid-3 > .org-role-card{
    box-sizing: border-box;
    width: min(92vw, 440px) !important; /* tweak 440px to taste */
    max-width: 300px !important;
    margin: 0 auto !important;
    border-radius: 14px;
    padding: clamp(12px, 3.4vw, 16px) clamp(14px, 4.2vw, 18px);
    box-shadow: 0 4px 12px rgba(0,0,0,.08);
  }

  /* Typography stays consistent */
  .org-role-card .role-label{ font-size: clamp(12px, 3.4vw, 14px); }
  .org-role-card .role-name { font-size: clamp(18px, 4.4vw, 20px); }
  .org-role-card .role-affil{ font-size: clamp(13px, 3.6vw, 16px); }
}





// =====================================================
// Members lists
// =====================================================
.org-subtitle {
  text-align: center;
  font-weight: 600;
  margin-top: 5rem;
  margin-bottom: 3rem;
}

.org-members{
  list-style: none;
  margin: 0;
  padding: 0;

  display: grid;
  gap: clamp(10px, 2vw, 14px) clamp(20px, 3vw, 36px);

  li{ line-height: 1.35; }

  .name{
    display: block;
    font-weight: 800;
    margin-bottom: .15rem;
  }
  .affil{
    display: block;
    color: #2f3d4a;
  }
}

.org-members.two-col {
  display: grid;
  grid-auto-flow: row;
  grid-template-columns:
    fit-content(38ch)
    fit-content(38ch);   // each col grows to its widest item, capped at 38ch
  column-gap: clamp(24px, 4vw, 56px);
  row-gap: clamp(8px, 1.2vw, 14px);
  justify-content: center;  // center the two columns as a block
  justify-items: start;     // items align to the left within each column
  text-align: left;
  margin-bottom: 5rem;


@media (max-width: 767.98px){
  grid-template-columns: 1fr;      // single column
    justify-content: stretch; 
}

}
  
  /* Make sure list items don’t force full width */
  ul.org-members.two-col li {
    text-align: left;
    padding-left: 5rem;   // tweak value as you like
  }
  
  /* If the inner anchor was full-width, neutralize it */
  ul.org-members.two-col > li > a{
    display: inline-block;
    inline-size: auto;
    text-align: left;
  }
  
  /* Mobile: 1 column, center items + text */
@media (max-width: 768px){
  ul.org-members.two-col{
    grid-template-columns: 1fr;
    justify-content: stretch;     /* track fills container */
    justify-items: center;        /* items sit in the center */
    padding-inline: clamp(12px, 4vw, 20px);
  }

  ul.org-members.two-col > li{
    max-inline-size: 36ch;        /* comfy line length */
    margin-inline: auto;          /* center the box */
    text-align: center;           /* center text */
  }

  /* if names/affils are wrapped in a link, keep it centered */
  ul.org-members.two-col > li > a{
    display: inline-block;
    text-align: inherit;
    inline-size: auto;
  }

  /* optional polish */
  ul.org-members.two-col .member-name{ font-weight: 800; display:block; }
  ul.org-members.two-col .member-affil{ opacity: .9; }
}

  

