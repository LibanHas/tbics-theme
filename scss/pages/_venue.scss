// pages/_venue.scss
// Venue page: “Getting here” list and Domestic Access flow (desktop grid + mobile tabs)

// -------------------------------------
// Getting here: icon + text list
// -------------------------------------
.getting-here {
    .gh-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }
  
    .gh-list li {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 1.25rem;
      line-height: 1.4;
    }
  
    .gh-icon {
      flex: 0 0 28px;
      width: 28px;
      height: 28px;
      margin-top: 2px;              // align with first text line
      display: inline-flex;
      align-items: center;
      justify-content: center;
  
      img {
        width: 24px;
        height: 24px;
        display: block;
      }
    }
  }
  
  // -------------------------------------
  // Domestic Access v2 (grid-based)
  // -------------------------------------
  .domestic-access.v2 {
    /* brand colors */
    --air:   #2f67b2;
    --train: #5b9e5b;
    --bus:   #d19045;
    --dest:  #f1dd77;
  
    /* layout constants shared by grid + arrows */
    --grid-gap: 24px;
    --dest-col: 180px; /* width of the 3rd grid column */
    --dest-clearance: 28px;
  
    /* ===== LANE GRID (DESKTOP) ===== */
    .lane {
      display: grid;
      grid-template-columns: minmax(230px,320px) 1fr var(--dest-col);
      column-gap: var(--grid-gap);
      row-gap: 8px;
      align-items: center;
      margin-bottom: 40px;
  
      /* two-row desktop layout: label over origins */
      grid-template-areas:
        "label   track  dest"
        "origins track  dest";
    }
  
    .lane-label { display: contents; } /* allows children to sit in grid areas */
    .label-line  { grid-area: label;   align-self: start; }
    .origins     { grid-area: origins; align-self: center; }
    .lane-track  { grid-area: track;   align-self: center; }
    .lane-dest   { grid-area: dest;    align-self: center; }
  
    /* Header row styling (Origins list) */
    .origins-head {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      margin: 0 0 .35rem;
      padding-bottom: .25rem;
      border-bottom: 1px solid rgba(0,0,0,.06);
  
      .origins-head-title {
        font-size: .85rem;
        font-weight: 700;
        color: #5b6b83;
        letter-spacing: .2px;
  
        &:last-child {
          margin-left: auto;
          text-align: right;
        }
      }
    }
  
    /* Data rows in origins list */
    .origins {
      list-style: none; margin: 0; padding: .75rem 1rem;
      background: #fff; border-radius: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,.06);
  
      li:not(.origins-head) {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        font-weight: 600;
        padding: .25rem 0;
      }
      .time { text-align: right; min-width: 7ch; }
    }
  
    /* Middle column (track) — step | arrow | step | arrow */
    .lane-track {
      display: grid;
      grid-template-columns: auto 1fr auto 1fr;
      align-items: center;
      column-gap: 16px;
      position: relative;  /* badges float above */
      overflow: visible;   /* bus arrow can extend */
    }
  
    .step {
      color: #fff; font-weight: 800; text-align: center;
      padding: 1.05rem 1.2rem; border-radius: 20px;
      min-width: 200px; line-height: 1.25;
      box-shadow: 0 6px 16px rgba(0,0,0,.08);
    }
    .step-air   { background: var(--air); }
    .step-train { background: var(--train); }
    .step-bus   { background: var(--bus); }
  
    .leg { position: relative; display: flex; align-items: center; }
  
    /* connector arrow (horizontal by default) */
    .lane-arrow {
      --lane-color: #013f87;
      display: block;
      flex: 0 0 auto;
      height: 8px;
      width: 100%;
      background: var(--lane-color);
      border-radius: 4px;
      position: relative;
  
      &::after {
        content: "";
        position: absolute; right: -12px; top: 50%;
        transform: translateY(-50%);
        border-left: 14px solid var(--lane-color);
        border-top: 9px solid transparent; border-bottom: 9px solid transparent;
      }
    }
  
    .leg.short .lane-arrow { width: 70%; }
    .leg.mid   .lane-arrow { width: 60%; }
  
    /* Duration bubbles above the arrows */
    .arrow-badge {
      position: absolute; top: -75px; left: 50%; transform: translateX(-50%);
      background: #fff; color: #1f2d3d;
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 999px; padding: 0.35rem 1.3rem;
      font-size: .85rem; box-shadow: 0 2px 6px rgba(0,0,0,.06);
      white-space: nowrap; z-index: 3; pointer-events: none;
  
      span[aria-hidden="true"] { margin-right: .35rem; }
    }
  
    /* Right column (destination) */
    .lane-dest.dest {
      background: var(--dest); color: #1f2d3d; font-weight: 800;
      text-align: center; padding: 1.1rem 1.3rem;
      border-radius: 20px; min-width: 160px;
      box-shadow: 0 6px 16px rgba(0,0,0,.08);
      position: relative; z-index: 2;
    }
  
    /* Bus lane special: long connector to destination */
    .lane.bus .leg.to-dest .lane-arrow {
      width: calc(100% + var(--grid-gap) + var(--dest-col) - var(--dest-clearance)) !important;
      background: var(--bus);
  
      &::after { border-left-color: var(--bus); }
    }
  
    /* ===== MOBILE / TABLET (stack + vertical flow) ===== */
    @media (max-width: 991.98px) {
      .lane {
        grid-template-columns: 1fr;
        grid-template-areas:
          "label"
          "origins"   /* origins FIRST, under the label */
          "track"
          "dest";
        gap: 16px;
      }
  
      /* Track becomes vertical: step → arrow → step → arrow */
      .lane-track {
        display: grid;
        grid-template-columns: 1fr;
        grid-auto-rows: auto;
        row-gap: 12px;
      }
  
      .step { min-width: 0; width: 100%; text-align: center; }
  
      .leg { justify-content: center; }
  
      /* vertical connector with downward pointer */
      .leg .lane-arrow {
        width: 8px !important;
        height: 48px !important;
        margin: 2px auto;
        border-radius: 4px;
  
        &::after {
          right: auto; left: 50%;
          top: auto; bottom: -12px;
          transform: translateX(-50%);
          border-left: 9px solid transparent;
          border-right: 9px solid transparent;
          border-top: 14px solid var(--lane-color);
          border-bottom: 0;
        }
      }
  
      .lane-dest.dest {
        justify-self: stretch;
        text-align: center;
      }
  
      /* bus lane: a bit longer for the final leg feels better */
      .lane.bus .leg.to-dest .lane-arrow { height: 72px !important; width: 8px !important; }
    }
  }
  
  /* Center the vertical connectors on mobile (fine-tune) */
  @media (max-width: 991.98px) {
    .domestic-access.v2 {
      .lane-track { justify-items: center; }
      .leg {
        display: grid;
        place-items: center;
        width: max-content;
        margin: 0 auto;
      }
      .leg .lane-arrow { margin: 0; }
      .leg .lane-arrow::after {
        left: 50%;
        transform: translateX(-50%);
      }
      .arrow-badge {
        position: static;
        margin: 6px auto 0;
        transform: none;
      }
    }
  }
  
  /* ------------------------------------- */
  /* Domestic Access: Mobile Tabs (<= 992) */
  /* ------------------------------------- */
  $da-tab-break: 992px;  // keep in sync with JS (<= 991.98px)
  
  .da-tabbar {
    display: none;           // hidden on desktop
    gap: 8px;
    margin: 0 0 12px;
    justify-content: center;
  }
  
  .da-tab {
    appearance: none;
    border: 1px solid #cfd9ea;
    background: #fff;
    color: #013f87;
    font-weight: 700;
    padding: .5rem .9rem;
    border-radius: 999px;
    cursor: pointer;
  
    &.is-active {
      background: #013f87;
      color: #fff;
      border-color: #013f87;
    }
  }
  
  @media (max-width: $da-tab-break) {
    /* show tab buttons on mobile */
    .da-tabbar { display: flex; }
  
    /* hide all lanes in tabs mode, show only the active one */
    .domestic-access.v2.has-tabs .lane { display: none; }
    .domestic-access.v2.has-tabs .lane.is-active { display: grid; }
  
    /* vertical, top-to-bottom flow inside the active lane */
    .domestic-access.v2.has-tabs .lane-track {
      display: grid;
      grid-template-columns: 1fr;
      grid-auto-rows: auto;
      row-gap: 12px;
    }
  
    .domestic-access.v2.has-tabs .step { min-width: 0; width: 100%; text-align: center; }
    .domestic-access.v2.has-tabs .leg { justify-content: center; }
  
    /* vertical connector (down) */
    .domestic-access.v2.has-tabs .lane-arrow {
      width: 8px;
      height: 48px;
      margin: 2px auto;
      border-radius: 4px;
  
      &::after {
        right: auto; left: 50%;
        top: auto; bottom: -12px;
        transform: translateX(-50%);
        border-left: 9px solid transparent;
        border-right: 9px solid transparent;
        border-top: 14px solid var(--lane-color);
        border-bottom: 0;
      }
    }
  
    /* duration chip sits inline between steps */
    .domestic-access.v2.has-tabs .arrow-badge {
      position: static;
      transform: none;
      margin: 25px auto;
      display: inline-block;
    }
  
    /* destination spans full width below the track */
    .domestic-access.v2.has-tabs .lane-dest.dest {
      justify-self: stretch;
      text-align: center;
    }
  
    /* bus lane: slightly longer final leg looks better */
    .domestic-access.v2.has-tabs .lane.bus .leg.to-dest .lane-arrow { height: 72px !important; }
  }
  